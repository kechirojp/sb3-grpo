# GRPO API - ã¯ã˜ã‚ã«

GRPOã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’APIçµŒç”±ã§ç°¡å˜ã«ä½¿ã„å§‹ã‚ã‚‹ãŸã‚ã®æœ€çŸ­ã‚¬ã‚¤ãƒ‰

## âš¡ 3åˆ†ã§å§‹ã‚ã‚‹

### 1. ã‚µãƒ¼ãƒãƒ¼èµ·å‹•
```bash
python run_api.py
```

### 2. ãƒ¢ãƒ‡ãƒ«ã‚’å­¦ç¿’
```python
import requests

# å­¦ç¿’é–‹å§‹
response = requests.post("http://localhost:8000/train", json={
    "env_name": "CartPole-v1",
    "total_timesteps": 1000,
    "model_name": "test_model"
})
job_id = response.json()["job_id"]
print(f"å­¦ç¿’é–‹å§‹: {job_id}")
```

### 3. å­¦ç¿’å®Œäº†ã¾ã§å¾…æ©Ÿ
```python
import time

while True:
    status = requests.get(f"http://localhost:8000/training/{job_id}/status").json()
    print(f"é€²æ—: {status['progress']:.1%}")
    
    if status["status"] == "completed":
        print("âœ… å­¦ç¿’å®Œäº†!")
        break
    time.sleep(2)
```

### 4. æ¨è«–å®Ÿè¡Œ
```python
# CartPoleã§è¡Œå‹•ã‚’äºˆæ¸¬
response = requests.post("http://localhost:8000/inference", json={
    "model_name": "test_model",
    "observation": [0.1, 0.0, 0.05, 0.0]  # [ä½ç½®, é€Ÿåº¦, è§’åº¦, è§’é€Ÿåº¦]
})

action = response.json()["action"]
print(f"äºˆæ¸¬è¡Œå‹•: {'å³' if action == 1 else 'å·¦'}")
```

## ğŸ¯ ã“ã‚Œã ã‘ã§å®Œäº†ï¼

ãŸã£ãŸæ•°è¡Œã®ã‚³ãƒ¼ãƒ‰ã§ï¼š
- âœ… å¼·åŒ–å­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã®å­¦ç¿’
- âœ… å­¦ç¿’é€²æ—ã®ç›£è¦–  
- âœ… å­¦ç¿’æ¸ˆã¿ãƒ¢ãƒ‡ãƒ«ã§ã®æ¨è«–

ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚

## ğŸ“– è©³ç´°æƒ…å ±

ã‚ˆã‚Šè©³ã—ã„ä½¿ã„æ–¹ã¯ä»¥ä¸‹ã‚’å‚ç…§ï¼š

- **å®Œå…¨ã‚¬ã‚¤ãƒ‰**: `GRPO_API_ä½¿ç”¨ã‚¬ã‚¤ãƒ‰.md`
- **APIä»•æ§˜**: `API_DOCUMENTATION.md`
- **ãƒ–ãƒ©ã‚¦ã‚¶ã§APIç¢ºèª**: <http://localhost:8000/docs>

## ğŸ’¡ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

- å­¦ç¿’ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®èª¿æ•´
- ã‚«ã‚¹ã‚¿ãƒ å ±é…¬é–¢æ•°ã®ä½œæˆ
- è¤‡æ•°ãƒ¢ãƒ‡ãƒ«ã®åŒæ™‚ç®¡ç†
- æœ¬æ ¼çš„ãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¸ã®çµ„ã¿è¾¼ã¿
